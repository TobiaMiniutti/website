<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Miniutti.it — Home</title>
<link rel="icon" href="favicon.png" />
<script src="sbbUhr-1.3.js" defer></script>

<!-- ===== Styles (single file, ready-to-use) ===== -->
<style>
  /* ===== reset ===== */
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
    -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
    color:#0f1724; background:linear-gradient(180deg,#0f1724 0%, #071022 100%);
    min-height:100vh; overflow-x:hidden;
  }

  :root{
    --nav-h:72px;
    --radius:16px;
    --glass:rgba(255,255,255,0.06);
    --glass-2:rgba(255,255,255,0.06);
    --accent:#7e2cf7; /* viola profondo */
    --accent-2:#00e5ff; /* ciano neon */
    --muted:#9aa6b2;
    --card-bg:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    --ease:cubic-bezier(.2,.9,.3,1);
  }

  /* ===== animated subtle background (GPU friendly) ===== */
  :root::before{
    content:"";position:fixed;inset:0;z-index:-2;pointer-events:none;
    background:
      radial-gradient(1200px 600px at 10% 10%, rgba(126,44,247,0.14), transparent 12%),
      radial-gradient(900px 500px at 90% 80%, rgba(0,229,255,0.06), transparent 12%);
    filter:blur(40px);transform:translateZ(0);opacity:0.95;
    animation:slowShift 18s linear infinite;
  }
  @keyframes slowShift{0%{transform:translateX(-10px) translateY(0)}50%{transform:translateX(10px) translateY(-6px)}100%{transform:translateX(-10px) translateY(0)}}

  /* ===== page container ===== */
  .wrap{max-width:1200px;margin:0 auto;padding:calc(var(--nav-h) + 28px) 20px 80px;display:flex;flex-direction:column;gap:36px}

  /* ===== preloader ===== */
  #loader{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,6,23,0.98), rgba(2,6,18,0.96));z-index:9999;transition:opacity .4s var(--ease)}
  #loader.hidden{opacity:0;pointer-events:none}
  .spinner{width:64px;height:64px;border-radius:50%;display:grid;place-items:center;position:relative}
  .spinner::before{content:"";position:absolute;width:48px;height:48px;border-radius:50%;border:4px solid rgba(255,255,255,0.08);border-top-color:var(--accent);animation:spin 1s linear infinite}
  .spinner .mark{color:var(--accent-2);font-weight:700;font-family:monospace}
  @keyframes spin{to{transform:rotate(360deg)}}

  /* ===== navbar ===== */
  nav{position:fixed;top:12px;left:50%;transform:translateX(-50%);height:var(--nav-h);display:flex;align-items:center;gap:18px;padding:6px 18px;border-radius:999px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));backdrop-filter:blur(10px);box-shadow:0 10px 30px rgba(2,6,23,0.6);z-index:1001}
  nav a, nav .dropbtn{color:#e6eef8;padding:10px 14px;border-radius:12px;font-weight:600;position:relative;display:inline-flex;align-items:center;gap:8px}
  nav a:hover, nav .dropbtn:hover{transform:translateY(-3px);filter:brightness(1.1)}
  /* tricolor underline (only visible on hover) */
  nav a::after, nav .dropbtn::after{content:"";position:absolute;left:10%;right:10%;height:3px;bottom:-8px;border-radius:6px;background:transparent;transition:all .25s var(--ease);opacity:0}
  nav a[data-tricolor="true"]:hover::after{background:linear-gradient(90deg,#00703c,#fff,#d62f27);opacity:1}
  /* arrow only for dropdown */
  .dropbtn.has-sub::after{content:"▾";position:static;margin-left:6px;font-size:0.72rem;opacity:.9}

  .dropdown{position:relative}
  .dropdown-menu{position:absolute;top:calc(100% + 10px);left:0;min-width:220px;background:linear-gradient(180deg, rgba(8,12,20,0.92), rgba(12,16,26,0.94));border-radius:12px;padding:8px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 30px rgba(2,6,23,0.6);display:none}
  .dropdown:focus-within .dropdown-menu, .dropdown:hover .dropdown-menu{display:block;animation:pop .18s ease}
  .dropdown-menu a{display:block;padding:10px 12px;color:#dfe9f5;border-radius:10px;font-weight:600}
  .dropdown-menu a:hover{background:linear-gradient(90deg, rgba(126,44,247,0.12), rgba(0,229,255,0.06));color:#fff;transform:translateX(6px)}

  @keyframes pop{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}

  /* ===== logo & mini-clock floating controls ===== */
  #logo{position:fixed;left:18px;top:10px;width:64px;height:64px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));display:grid;place-items:center;z-index:1001;border:1px solid rgba(255,255,255,0.03);cursor:pointer}
  #logo img{width:44px;height:44px;object-fit:contain;filter:drop-shadow(0 6px 18px rgba(0,0,0,0.45))}

  #mini-clock{
    position:fixed;right:18px;top:12px;width:64px;height:64px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    display:flex;align-items:center;justify-content:center;z-index:1001;border:1px solid rgba(255,255,255,0.03);cursor:pointer
  }
  #mini-clock:focus{outline:3px solid rgba(126,44,247,0.18);outline-offset:4px}

  /* fullscreen control pill (hidden small) */
  .clock-controls{position:fixed;right:18px;top:86px;display:flex;gap:8px;z-index:1001}
  .btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;padding:8px 12px;border-radius:999px;font-weight:700;border:none;cursor:pointer;box-shadow:0 8px 30px rgba(126,44,247,0.12);transition:transform .18s var(--ease)}
  .btn:active{transform:translateY(1px)}

  /* ===== hero ===== */
  .hero{display:grid;place-items:center;text-align:center;padding:36px 18px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 10px 40px rgba(2,6,23,0.6);backdrop-filter:blur(6px)}
  .hero h1{font-size:clamp(2.2rem,4vw,3.6rem);line-height:1.02;background:linear-gradient(45deg,var(--accent),var(--accent-2));-webkit-background-clip:text;background-clip:text;color:transparent;font-weight:900}
  .hero p{color:var(--muted);max-width:780px;margin-top:10px;font-size:1.05rem}

  /* ===== projects grid ===== */
  .projects{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:22px}
  .card{
    position:relative;padding:20px;border-radius:14px;background:var(--card-bg);border:1px solid rgba(255,255,255,0.03);
    transition:transform .35s var(--ease),box-shadow .35s var(--ease);cursor:pointer;overflow:hidden;
  }
  .card:hover{transform:translateY(-8px) rotateX(2deg);box-shadow:0 30px 80px rgba(2,6,23,0.6)}
  .card h3{font-size:1.2rem;margin-bottom:8px;color:#eaf4ff}
  .card p{color:var(--muted);line-height:1.45;font-size:.98rem}
  .card .cta{display:inline-block;margin-top:14px;padding:8px 12px;border-radius:10px;background:rgba(255,255,255,0.02);color:var(--accent);font-weight:800;border:1px solid rgba(126,44,247,0.12)}

  .card.soon{opacity:.6;filter:grayscale(.1);pointer-events:none}

  /* ===== contact ===== */
  .contact{max-width:520px;margin:0 auto;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:20px;border-radius:14px;border:1px solid rgba(255,255,255,0.03)}
  .contact h2{color:#eaf4ff;margin-bottom:8px}
  .form-row{display:flex;gap:10px}
  .form-row .field{flex:1;display:flex;flex-direction:column;gap:6px}
  input,textarea{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:10px;border-radius:10px;color:#eaf4ff;font-weight:600}
  input:focus,textarea:focus{outline:none;border-color:rgba(126,44,247,0.45);box-shadow:0 6px 28px rgba(126,44,247,0.08)}
  textarea{min-height:110px;resize:vertical}
  .form-note{font-size:.88rem;color:var(--muted);margin-top:8px}
  .submit-row{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
  .checkbox{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:.95rem}

  /* ===== small screens ===== */
  @media (max-width:720px){
    nav{gap:8px;padding:8px 12px;left:12px;transform:none}
    #logo{left:12px}
    .wrap{padding:calc(var(--nav-h) + 16px) 14px 60px}
    .clock-controls{right:12px;top:86px}
  }
</style>
</head>
<body>

<!-- PRELOADER -->
<div id="loader" role="status" aria-live="polite">
  <div class="spinner" aria-hidden="true"><span class="mark">·</span></div>
</div>

<!-- NAVBAR -->
<nav role="navigation" aria-label="Menu principale">
  <a href="index.html" data-tricolor="true" aria-current="page">Home</a>

  <div class="dropdown" tabindex="0" aria-haspopup="true" aria-expanded="false">
    <button class="dropbtn has-sub" aria-controls="proj-menu">Progetti</button>
    <div id="proj-menu" class="dropdown-menu" role="menu" aria-label="Sottomenu progetti">
      <a href="clock.html" role="menuitem">SBB Clock</a>
      <a href="progetti.html" role="menuitem">Altri Progetti</a>
    </div>
  </div>

  <a href="clock.html" data-tricolor="true">SBB Clock</a>
</nav>

<!-- floating logo and mini clock -->
<div id="logo" role="link" aria-label="Vai alla home" tabindex="0" onclick="location.href='index.html'">
  <img src="favicon.png" alt="logo miniutti">
</div>

<div id="mini-clock" tabindex="0" role="button" aria-label="Orologio SBB — Apri pagina orologio">
  <!-- SBBUhr will render inside -->
</div>

<div class="clock-controls" aria-hidden="false">
  <button class="btn" id="open-clock">Apri orologio</button>
  <button class="btn" id="fs-toggle" title="Fullscreen (F)">Fullscreen (F)</button>
</div>

<!-- PAGE CONTENT -->
<main class="wrap" id="main">

  <!-- HERO -->
  <header class="hero" role="banner" aria-labelledby="hero-title">
    <h1 id="hero-title">Miniutti.it — progetti & idee</h1>
    <p>Progetti soliti, curati nei dettagli: orologi SBB, utility, e piccoli esperimenti web. Design pulito, animazioni sottili, e performance come priorità.</p>
  </header>

  <!-- PROJECTS -->
  <section aria-labelledby="sec-projects">
    <h2 id="sec-projects" class="visually-hidden">Progetti</h2>
    <div class="projects" role="list">
      <article class="card" role="listitem" tabindex="0" aria-labelledby="p-sbb">
        <h3 id="p-sbb">SBB Clock</h3>
        <p>Riproduzione fedele dell'orologio svizzero, animazioni fluide, supporto fullscreen e tasto rapido 'F'.</p>
        <a class="cta" href="clock.html" aria-label="Vai alla pagina dell'orologio">Apri SBB Clock →</a>
      </article>

      <article class="card soon" role="listitem" aria-labelledby="p-soon">
        <h3 id="p-soon">In arrivo</h3>
        <p>Nuovi widget e componenti responsive. Aggiornamenti continui pubblicati sulla pagina progetti.</p>
      </article>

      <article class="card" role="listitem" tabindex="0" aria-labelledby="p-other">
        <h3 id="p-other">Altri Progetti</h3>
        <p>Utility, script e sperimentazioni di UI/UX. Documentazione e codice su richiesta.</p>
        <a class="cta" href="progetti.html">Vedi altri →</a>
      </article>
    </div>
  </section>

  <!-- CONTACT -->
  <section class="contact" aria-labelledby="contact-title">
    <h2 id="contact-title">Contattami</h2>
    <form id="contact-form" novalidate>
      <div class="form-row">
        <div class="field">
          <label for="name" class="visually-hidden">Nome</label>
          <input id="name" name="name" type="text" placeholder="Nome" autocomplete="name" required aria-required="true">
        </div>
        <div class="field">
          <label for="email" class="visually-hidden">Email</label>
          <input id="email" name="email" type="email" placeholder="email@esempio.com" autocomplete="email" required aria-required="true">
        </div>
      </div>

      <div style="margin-top:12px">
        <label for="message" class="visually-hidden">Messaggio</label>
        <textarea id="message" name="message" placeholder="Scrivi il tuo messaggio..." required aria-required="true"></textarea>
      </div>

      <div class="submit-row">
        <div>
          <label class="checkbox"><input type="checkbox" id="newsletter" name="newsletter"> Iscrivimi alla newsletter</label>
          <div class="form-note">L'email serve solo per risponderti o inviare aggiornamenti se acconsenti.</div>
        </div>

        <div>
          <button type="submit" class="btn" id="send">Invia</button>
        </div>
      </div>

      <div id="form-msg" role="status" aria-live="polite" style="margin-top:10px;color:var(--accent-2);display:none"></div>
    </form>
  </section>

</main>

<!-- ===== Scripts (behavior) ===== -->
<script>
/* ===== hide loader ===== */
document.addEventListener('DOMContentLoaded', () => {
  const loader = document.getElementById('loader');
  setTimeout(()=> loader.classList.add('hidden'), 350); // slight delay for polish

  /* SBB Uhr init */
  const miniClock = document.getElementById('mini-clock');
  if (typeof SBBUhr !== 'undefined' && miniClock) {
    new SBBUhr({
      target: miniClock,
      type: 'digital',
      size: 56,
      showSeconds: false,
      showDate: false,
      fullScreenBtn: false,
      fullScreenKey: false
    });
  }

  /* interazioni mini-clock */
  const openClockBtn = document.getElementById('open-clock');
  const fsBtn = document.getElementById('fs-toggle');

  function openClockPage(){ location.href = 'clock.html' }
  miniClock.addEventListener('click', openClockPage);
  miniClock.addEventListener('keydown', (e)=> { if(e.key==='Enter' || e.key===' ') { e.preventDefault(); openClockPage(); } });
  openClockBtn.addEventListener('click', openClockPage);

  /* fullscreen toggle for the mini-clock container */
  function toggleFullscreen(){
    const el = document.getElementById('mini-clock');
    if(!document.fullscreenElement){
      if(el.requestFullscreen) el.requestFullscreen();
    } else {
      if(document.exitFullscreen) document.exitFullscreen();
    }
  }
  fsBtn.addEventListener('click', toggleFullscreen);

  /* keyboard shortcut F (case-insensitive) */
  window.addEventListener('keydown', (e)=>{
    if(e.key==='f' || e.key==='F'){
      // only trigger when not typing into inputs
      const tag = document.activeElement.tagName.toLowerCase();
      if(tag !== 'input' && tag !== 'textarea') {
        toggleFullscreen();
      }
    }
    // quick open with "o" (optional)
    if(e.key==='o' || e.key==='O'){ openClockPage(); }
  });

  /* accessible dropdown toggling (aria) */
  document.querySelectorAll('.dropdown').forEach(dd=>{
    dd.addEventListener('mouseenter', ()=> dd.setAttribute('aria-expanded','true'));
    dd.addEventListener('mouseleave', ()=> dd.setAttribute('aria-expanded','false'));
    // keyboard toggling
    dd.addEventListener('keydown', (ev)=>{
      if(ev.key==='Enter' || ev.key===' '){
        const expanded = dd.getAttribute('aria-expanded') === 'true';
        dd.setAttribute('aria-expanded', (!expanded).toString());
      }
    });
  });

  /* simple form handling (demo) */
  const form = document.getElementById('contact-form');
  const msg = document.getElementById('form-msg');
  form.addEventListener('submit', (e)=>{
    e.preventDefault();
    // basic validation
    const name = form.name.value.trim();
    const email = form.email.value.trim();
    const message = form.message.value.trim();
    if(!name || !email || !message){
      msg.textContent = 'Per favore compila tutti i campi.'; msg.style.display='block'; msg.style.color='tomato'; return;
    }
    // If you want real email sending, integrate server endpoint or form service.
    msg.style.color = 'var(--accent-2)';
    msg.textContent = 'Messaggio pronto — qui puoi integrarlo con mailto o endpoint server.';
    msg.style.display='block';
    form.reset();
  });
});
</script>

<!-- small helper to hide visually but keep for screenreaders -->
<style>.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;padding:0;margin:-1px}</style>
</body>
</html>
